---
title: "01-CleaningEnrollment"
format: html
---

```{r}
#| label: setup
#| warning: false
#| message: false

library(tidyverse)
library(janitor)
```

```{r}
#| label: import

enrollment_file_list <- list.files(
  "data-raw/enrollment",
  pattern = ".csv",
  full.names = TRUE
)

enrollment_file_list
```

```{r}
#| label: combine

column_names <- c("YEAR","REGION", "COUNTY NAME", "DISTRICT",	"DISTRICT NAME",	"CHARTER STATUS",	"GENDER",	"ENROLLMENT")

enrollment_all <- enrollment_file_list |> 
  map(read_csv,
  skip = 5,
  col_names = column_names,
  col_types = cols( ENROLLMENT = col_character())
) |> list_rbind() |> clean_names()

enrollment_all



  
#   function(x) {
#   df <- read_csv(x, skip = 5, names = c("YEAR",	
#       "REGION",	
#       "COUNTY NAME",	
#       "DISTRICT",	"DISTRICT NAME",	
#       "CHARTER STATUS",	
#       "GENDER",	
#       "ENROLLMENT"))
# }
# 
# enrollment_new <- enrollment_file_list |> map(reading_files) |> list_rbind() |> clean_names()

```


```{r}
```


